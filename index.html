<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Love Page</title>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Fredoka+One&display=swap" rel="stylesheet">
<style>
html, body {
  margin: 0;
  padding: 0;
  overflow: hidden;
  background: #111;
  cursor: none !important;
  font-family: 'Fredoka One', cursive;
}

#mainText {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 5em;
  font-family: 'Pacifico', cursive;
  font-weight: 700;
  text-shadow: 2px 2px 10px #ff1493;
  z-index: 10;
  pointer-events: none;
  color: #ff69b4;
}

.heart {
  position: absolute;
  font-size: 40px;
  color: #ff69b4;
  pointer-events: none;
}

.rainText, .burstText, .burstSmall {
  position: absolute;
  font-weight: 700;
  pointer-events: none;
}

.rainText {
  font-size: 2.5em;
  font-family: 'Fredoka One', cursive;
  color: #ff69b4;
  opacity: 0.8;
}

.burstSmall {
  font-family: 'Fredoka One', cursive;
  font-size: 3em;
  color: #fff;
  opacity: 1;
}

.burstText {
  font-family: 'Fredoka One', cursive;
  color: #ff69b4;
  opacity: 0.9;
}
</style>
</head>
<body>

<div id="mainText">I love you Jainayah ❤️</div>
<audio id="clickSound" src="The 1975 - About You (Official) - nabila.mp3"></audio>

<script>
const body = document.body;
const audio = document.getElementById('clickSound');
let audioPlayed = false;

/* --- Custom Heart Cursor --- */
const cursor = document.createElement('div');
cursor.style.position = 'fixed';
cursor.style.width = '30px';
cursor.style.height = '30px';
cursor.style.pointerEvents = 'none';
cursor.style.zIndex = 9999;
cursor.style.userSelect = 'none';
cursor.style.fontSize = '30px';
cursor.innerHTML = '❤️';
body.appendChild(cursor);

document.addEventListener('mousemove', e => {
  cursor.style.left = (e.clientX - 15) + 'px';
  cursor.style.top = (e.clientY - 15) + 'px';
});

/* --- Background Hearts --- */
function createMirroredHeart(){
  const x = Math.random()*window.innerWidth;
  const positions = [x, window.innerWidth - x];

  positions.forEach(pos=>{
    const heart = document.createElement('div');
    heart.className='heart';
    heart.textContent='❤️';
    heart.style.left=pos+'px';
    heart.style.bottom='0px';
    body.appendChild(heart);

    const duration = 3000;
    const start = performance.now();

    function animate(time){
      const progress = (time-start)/duration;
      if(progress < 1){
        heart.style.bottom = progress*(window.innerHeight+50)+'px';
        requestAnimationFrame(animate);
      } else heart.remove();
    }
    requestAnimationFrame(animate);
  });
}
setInterval(createMirroredHeart, 300);

/* --- Rain Lines (Vertical, constant) --- */
function createRainLine() {
  const x = Math.random()*window.innerWidth;
  const text = document.createElement('div');
  text.className='rainText';
  text.textContent='I love you';
  text.style.left = x+'px';
  text.style.top='-30px';
  body.appendChild(text);

  const mirror = document.createElement('div');
  mirror.className='rainText';
  mirror.textContent='I love you';
  mirror.style.left = (window.innerWidth - x)+'px';
  mirror.style.top='-30px';
  body.appendChild(mirror);

  const duration = 1200;
  const start = performance.now();

  function animate(time){
    const progress = (time-start)/duration;
    if(progress<1){
      const topPos = progress*(window.innerHeight+50);
      text.style.top = topPos+'px';
      mirror.style.top = topPos+'px';
      requestAnimationFrame(animate);
    } else {
      text.remove();
      mirror.remove();
    }
  }
  requestAnimationFrame(animate);
}
setInterval(createRainLine, 100);

/* --- Click Burst: White letters first, pink letters after --- */
function createBurst(x, y){
  // --- Step 1: Big White Letters ---
  const whiteCount = 8;
  const whiteLetters = [];
  for(let i=0;i<whiteCount;i++){
    const burst = document.createElement('div');
    burst.textContent = 'I love you baby';
    burst.style.position = 'fixed';
    burst.style.left = x+'px';
    burst.style.top = y+'px';
    burst.style.fontSize = '3em';
    burst.style.color = '#fff';
    burst.style.zIndex = 10000;
    burst.style.fontWeight = '700';
    body.appendChild(burst);
    whiteLetters.push(burst);

    const angle = Math.random()*2*Math.PI;
    const distance = 200 + Math.random()*100; // moderate spread
    const dx = Math.cos(angle)*distance;
    const dy = Math.sin(angle)*distance;

    const start = performance.now();
    const duration = 2500;

    function animate(time){
      const progress = (time-start)/duration;
      if(progress<1){
        burst.style.left = x + dx*progress+'px';
        burst.style.top = y + dy*progress+'px';
        requestAnimationFrame(animate);
      }
    }
    requestAnimationFrame(animate);
  }

  // --- Step 2: Big Pink Letters delayed ---
  setTimeout(()=>{
    const pinkCount = 5;
    for(let i=0;i<pinkCount;i++){
      const size = Math.random()<0.5?3:2.5;
      const burst = document.createElement('div');
      burst.textContent = 'I love you baby';
      burst.style.position = 'fixed';
      burst.style.left = x+'px';
      burst.style.top = y+'px';
      burst.style.fontSize = size+'em';
      burst.style.color = '#ff69b4';
      burst.style.zIndex = 9999; // behind white letters
      burst.style.fontWeight = '700';
      body.appendChild(burst);

      const angle = Math.random()*2*Math.PI;
      const distance = 700 + Math.random()*200; // farther spread
      const dx = Math.cos(angle)*distance;
      const dy = Math.sin(angle)*distance;

      const start = performance.now();
      const duration = 3000;

      function animate(time){
        const progress = (time-start)/duration;
        if(progress<1){
          const moveX = x + dx*progress;
          const moveY = y + dy*progress;
          burst.style.left = moveX+'px';
          burst.style.top = moveY+'px';
          burst.style.opacity = 1-progress;

          // 3D trail
          for(let t=1;t<=3;t++){
            const trail = burst.cloneNode(true);
            trail.style.position='fixed';
            trail.style.fontSize = size*(1-0.1*t)+'em';
            trail.style.left = moveX - t*3 + 'px';
            trail.style.top = moveY - t*3 + 'px';
            trail.style.opacity = 0.25/t;
            trail.style.zIndex = 9000;
            body.appendChild(trail);
            setTimeout(()=>trail.remove(), 300 + t*50);
          }

          requestAnimationFrame(animate);
        } else burst.remove();
      }
      requestAnimationFrame(animate);
    }

    // Fade white letters gradually after pink letters spread
    setTimeout(()=>{
      whiteLetters.forEach(burst=>{
        const startFade = performance.now();
        const fadeDuration = 1200;
        function fade(time){
          const progress = (time-startFade)/fadeDuration;
          if(progress < 1){
            burst.style.opacity = 1 - progress;
            requestAnimationFrame(fade);
          } else burst.remove();
        }
        requestAnimationFrame(fade);
      });
    }, 800); // wait before fading white letters

  }, 400);
}

document.addEventListener('click', e=>{
  createBurst(e.clientX, e.clientY);
  if(!audioPlayed){
    audio.play();
    audioPlayed=true;
  }
});

/* --- Pink Fireworks --- */
function createFirework(){
  const sparkCount = 30 + Math.floor(Math.random()*20);
  const xOrigin = Math.random()*window.innerWidth;
  const yOrigin = Math.random()*window.innerHeight/2;

  for(let i=0;i<sparkCount;i++){
    const spark = document.createElement('div');
    spark.style.position='absolute';
    spark.style.left=xOrigin+'px';
    spark.style.top=yOrigin+'px';
    spark.style.width='4px';
    spark.style.height='12px';
    spark.style.background='#ff69b4';
    spark.style.borderRadius='2px';
    spark.style.pointerEvents='none';
    spark.style.zIndex=5;
    body.appendChild(spark);

    const angle = Math.random()*2*Math.PI;
    const distance = 150 + Math.random()*50;
    const dx = Math.cos(angle)*distance;
    const dy = Math.sin(angle)*distance;

    const duration = 1000 + Math.random()*300;
    const start = performance.now();

    function animate(time){
      const progress = (time-start)/duration;
      if(progress<1){
        spark.style.left = xOrigin + dx*progress+'px';
        spark.style.top = yOrigin + dy*progress+'px';
        spark.style.opacity = 1-progress;
        requestAnimationFrame(animate);
      } else spark.remove();
    }
    requestAnimationFrame(animate);
  }
}
setInterval(createFirework, 400);
</script>
</body>
</html>
